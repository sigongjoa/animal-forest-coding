[
    {
        "id": "mission-001",
        "title": "Welcome to Animal Forest",
        "description": "Learn the basics of coding with Tom Nook.",
        "difficulty": "beginner",
        "language": "javascript",
        "order": 1,
        "points": 100,
        "steps": [
            {
                "id": 1,
                "title": "Hello, World!",
                "description": "Print your first message to the console.",
                "prompt": "Use console.log() to print 'Hello, Animal Forest!'",
                "template": "// Write your code here\n",
                "solution": "console.log('Hello, Animal Forest!');",
                "estimatedTimeMinutes": 5
            }
        ],
        "storyContext": {
            "introImage": "/episode/1/mission-001/scene-1.png",
            "introDialogue": [
                "Hello there! Welcome to the pristine island of Animal Forest!",
                "I'm Tom Nook, and I'll be your guide to building a wonderful life here.",
                "To get started, we need to set up your NookPhone. Can you print a welcome message?"
            ],
            "successDialogue": [
                "Excellent! Your NookPhone is now active.",
                "You're a natural at this, yes, yes!"
            ],
            "failureDialogue": [
                "Oh dear, it seems the message didn't print correctly.",
                "Remember to use console.log() and check your spelling."
            ]
        },
        "rewards": {
            "basePoints": 100,
            "speedBonus": 50,
            "perfectBonus": 50
        },
        "unlocks": [
            "mission-002"
        ],
        "prerequisites": [],
        "scenario": {
            "setting": {
                "background": "/assets/background/beach_sunset.png",
                "characters": [
                    {
                        "id": "player",
                        "initialPosition": {
                            "x": 100,
                            "y": 200
                        },
                        "sprite": "/assets/character/player.png",
                        "direction": "right",
                        "scale": 2
                    },
                    {
                        "id": "nook",
                        "initialPosition": {
                            "x": 400,
                            "y": 200
                        },
                        "sprite": "/assets/character/nook.png",
                        "direction": "left",
                        "scale": 2
                    }
                ]
            },
            "script": [
                {
                    "type": "wait",
                    "duration": 1000
                },
                {
                    "type": "move",
                    "target": "nook",
                    "to": {
                        "x": 150,
                        "y": 200
                    },
                    "speed": "walk"
                },
                {
                    "type": "emote",
                    "target": "nook",
                    "emoji": "ðŸ§®"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "Welcome to Coding Island! Yes, yes!",
                    "emotion": "happy"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "I'm Tom Nook. And now... it's time to settle the bill."
                },
                {
                    "type": "move",
                    "target": "nook",
                    "to": {
                        "x": 140,
                        "y": 200
                    },
                    "speed": "run"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "Tent fee, NookPhone fee, Tax... Total is 49,800 Bells!"
                },
                {
                    "type": "emote",
                    "target": "player",
                    "emoji": "âš¡"
                },
                {
                    "type": "dialogue",
                    "speaker": "player",
                    "text": "I... I don't have any money!",
                    "emotion": "shocked"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "No bells? Then you'll have to code your own bank account on this laptop.",
                    "emotion": "normal"
                },
                {
                    "type": "transition",
                    "mode": "IDE"
                }
            ]
        }
    },
    {
        "id": "mission-002",
        "title": "Collecting Shells",
        "description": "Learn about variables and numbers.",
        "difficulty": "beginner",
        "language": "javascript",
        "order": 2,
        "points": 150,
        "steps": [
            {
                "id": 1,
                "title": "Counting Shells",
                "description": "Store the number of shells in a variable.",
                "prompt": "Create a variable named 'shells' and assign it the value 5.",
                "template": "// Create a variable named 'shells'\n",
                "solution": "let shells = 5;",
                "estimatedTimeMinutes": 10
            }
        ],
        "storyContext": {
            "introImage": "/episode/1/mission-002/scene-1.png",
            "introDialogue": [
                "Now that you're settled, why not collect some seashells?",
                "They are quite valuable, you know.",
                "Let's count how many you can find on the beach."
            ],
            "successDialogue": [
                "Five shells! That's a good start.",
                "I'll give you some Bells for those later."
            ],
            "failureDialogue": [
                "Did you create the variable correctly?",
                "Use 'let shells = 5;' to store the number."
            ]
        },
        "rewards": {
            "basePoints": 150,
            "speedBonus": 50,
            "perfectBonus": 50
        },
        "unlocks": [
            "mission-003"
        ],
        "prerequisites": [
            "mission-001"
        ],
        "scenario": {
            "setting": {
                "background": "/assets/background/beach_day.png",
                "characters": [
                    {
                        "id": "player",
                        "initialPosition": {
                            "x": 100,
                            "y": 250
                        },
                        "sprite": "/assets/character/player.png",
                        "direction": "right",
                        "scale": 2
                    },
                    {
                        "id": "nook",
                        "initialPosition": {
                            "x": 400,
                            "y": 250
                        },
                        "sprite": "/assets/character/nook.png",
                        "direction": "left",
                        "scale": 2
                    }
                ]
            },
            "script": [
                {
                    "type": "wait",
                    "duration": 800
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "Now that you're settled, we need to make some bells.",
                    "emotion": "happy"
                },
                {
                    "type": "move",
                    "target": "player",
                    "to": {
                        "x": 200,
                        "y": 250
                    },
                    "speed": "walk"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "See these shells? They are quite valuable."
                },
                {
                    "type": "emote",
                    "target": "player",
                    "emoji": "ðŸš"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "But we can't just pick them up randomly. We need to COUNT them."
                },
                {
                    "type": "move",
                    "target": "nook",
                    "to": {
                        "x": 300,
                        "y": 250
                    },
                    "speed": "run"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "In coding, we use 'Variables' to store numbers like this.",
                    "emotion": "normal"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "Let's create a variable called 'shells' and put the number 5 in it!"
                },
                {
                    "type": "transition",
                    "mode": "IDE"
                }
            ]
        }
    },
    {
        "id": "mission-101",
        "title": "Variable Declaration",
        "description": "Declare a variable to earn your first Bells.",
        "difficulty": "beginner",
        "language": "java",
        "order": 101,
        "points": 100,
        "steps": [
            {
                "id": "step-1",
                "title": "Your First Wallet",
                "description": "Create an integer variable named 'wallet' and assign it 100.",
                "prompt": "int wallet = 100;",
                "template": "public class Solution {\n    public static void main(String[] args) {\n        // Write your code here\n        \n    }\n}",
                "solution": "int wallet = 100;",
                "estimatedTimeMinutes": 5
            }
        ],
        "storyContext": {
            "introImage": "/assets/nook_intro.png",
            "introDialogue": [
                "Welcome to Java Island!",
                "To get started, you need some money.",
                "Declare a variable named 'wallet' with 100 bells."
            ],
            "successDialogue": [
                "Great job! Here are 100 bells."
            ],
            "failureDialogue": [
                "Make sure to use 'int wallet = 100;'"
            ]
        },
        "rewards": {
            "basePoints": 100,
            "speedBonus": 10,
            "perfectBonus": 10
        },
        "unlocks": [],
        "prerequisites": [],
        "scenario": {
            "setting": {
                "background": "/assets/bg.png",
                "characters": []
            },
            "script": []
        }
    },
    {
        "id": "mission-003",
        "title": "The Mystery of the Missing Bells",
        "description": "Learn about variable scope, shadowing, and preconditions.",
        "difficulty": "intermediate",
        "language": "java",
        "order": 3,
        "points": 200,
        "steps": [
            {
                "id": 1,
                "title": "Fixing Scope",
                "description": "Move 'myBells' to an instance variable so it persists.",
                "prompt": "Change the local variable to an instance variable.",
                "template": "public class Store {\n    // Declare instance variable here\n    \n    public void sellFish() {\n        int myBells = 4000; // This is a local variable! Fix it.\n        System.out.println(\"Earned 4000 bells!\");\n    }\n}",
                "solution": "public class Store {\n    private int myBells = 0;\n    public void sellFish() {\n        this.myBells += 4000;\n        System.out.println(\"Earned 4000 bells!\");\n    }\n}",
                "estimatedTimeMinutes": 10
            },
            {
                "id": 2,
                "title": "Shadowing & This",
                "description": "Use 'this' to distinguish between instance variable and parameter.",
                "prompt": "Fix the payLoan method to actually deduct money.",
                "template": "public class Store {\n    private int myBells = 4000;\n    \n    public void payLoan(int myBells) {\n        myBells = myBells - myBells; // This is wrong!\n    }\n}",
                "solution": "public class Store {\n    private int myBells = 4000;\n    public void payLoan(int amount) {\n        this.myBells -= amount;\n    }\n}",
                "estimatedTimeMinutes": 10
            },
            {
                "id": 3,
                "title": "Preconditions",
                "description": "Check if you have enough money before buying.",
                "prompt": "Add an if statement to check balance.",
                "template": "public class Store {\n    private int myBells = 1000;\n    \n    public void buyTool(int cost) {\n        this.myBells -= cost;\n    }\n}",
                "solution": "public class Store {\n    private int myBells = 1000;\n    public void buyTool(int cost) {\n        if (this.myBells >= cost) {\n            this.myBells -= cost;\n        }\n    }\n}",
                "estimatedTimeMinutes": 10
            }
        ],
        "storyContext": {
            "introImage": "/assets/mission3/nook_store_inside.png",
            "introDialogue": [
                "Welcome to Nook's Cranny!",
                "You have a lot of fish to sell, yes, yes!",
                "Let's turn those fish into Bells."
            ],
            "successDialogue": [
                "Wonderful! You understand the value of a safe wallet.",
                "Now you can buy anything... as long as you have the Bells!"
            ],
            "failureDialogue": [
                "Oh no! Your money disappeared!",
                "Remember, local variables are thrown away after the method ends."
            ]
        },
        "rewards": {
            "basePoints": 200,
            "speedBonus": 50,
            "perfectBonus": 50
        },
        "unlocks": [
            "mission-004"
        ],
        "prerequisites": [
            "mission-002"
        ],
        "scenario": {
            "setting": {
                "background": "/assets/mission3/nook_store_inside.png",
                "characters": [
                    {
                        "id": "player",
                        "initialPosition": {
                            "x": 200,
                            "y": 300
                        },
                        "sprite": "/assets/character/player.png",
                        "direction": "right",
                        "scale": 2
                    },
                    {
                        "id": "nook",
                        "initialPosition": {
                            "x": 400,
                            "y": 300
                        },
                        "sprite": "/assets/character/nook.png",
                        "direction": "left",
                        "scale": 2
                    }
                ]
            },
            "script": [
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "Welcome! You catch 10 Sea Bass? Impressive!",
                    "emotion": "happy"
                },
                {
                    "type": "move",
                    "target": "nook",
                    "to": {
                        "x": 350,
                        "y": 300
                    },
                    "speed": "walk"
                },
                {
                    "type": "dialogue",
                    "speaker": "nook",
                    "text": "I will buy them for 4,000 Bells. Let's process the transaction."
                },
                {
                    "type": "transition",
                    "mode": "IDE"
                }
            ]
        }
    }
]