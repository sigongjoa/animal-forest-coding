# 🚀 Interactive IDE 기획서
## "너굴포트(NookPhone) 개발자 모드" 구현 계획

**작성일**: 2025-11-30
**상태**: 📋 기획 단계
**목표**: 게임형 교육 플랫폼 → 실제 코딩 체험 플랫폼으로 진화

---

## 📌 프로젝트 개요

### 현재 상황
- ✅ 동물의숲 스토리라인 및 캐릭터 음성 시스템 완성
- ✅ 교육용 이미지 및 학습 콘텐츠 DB 구축
- ❌ **핵심 미충족**: 학습자가 실제로 코드를 입력하고 실행하는 상호작용 환경 부재

### 문제점
현재는 "영상 시청형 교육"으로, 학습자의 주도적 행동이 없습니다.

### 솔루션: Interactive IDE 통합
학습자가 **너굴 사장의 지시에 따라 실제로 코드를 짜고, 실행하고, 피드백을 받는** 게임형 학습 경험 제공

---

## 🎨 UX/UI 설계

### 1. 레이아웃 구성안

#### 옵션 A: 화면 분할 (추천)
```
┌──────────────────────────────────┐
│ 섬 배경 (너굴 안내소) │ 너굴포트 IDE │
│ 너굴 NPC              │ 코드 에디터  │
│ 대사창                 │ 실행 버튼    │
│                        │ 결과 출력    │
└──────────────────────────────────┘
```

### 2. 너굴포트(NookPhone) 디자인

#### 외형 (CSS/SVG)
```
┌──────────────────────┐
│ 🔋 📶  너굴포트 v2.0 │
├──────────────────────┤
│ [코드 에디터 영역]    │
│ def hello():         │
│   print("Hi")        │
│ ┌────────────────┐   │
│ │ 🍃 [실행]      │   │
│ └────────────────┘   │
│ ─── 결과 ───         │
│ > Hi                 │
└──────────────────────┘
```

### 3. 너굴의 반응형 피드백 시스템

#### 성공 케이스
```
학습자 코드: name = "주민대표"
           print(name)

[결과] > 주민대표 ✓

너굴: 👏 "오호! '주민대표'님, 완벽하게 작동하는군!"
```

#### 에러 케이스
```
학습자 코드: name = "주민대표  (따옴표 닫지 않음)
           print(name)

[에러] SyntaxError: unterminated string literal

너굴: 🤔 "어라? 따옴표를 닫지 않은 것 같은데...
          다시 한 번 확인해보게!"
```

---

## 🛠️ 기술 스택

### 핵심 기술: Pyodide (WebAssembly 기반 Python)

#### Pyodide란?
- **정의**: Python 인터프리터를 WebAssembly(WASM)로 컴파일한 것
- **동작**: 브라우저 탭 내에서 Python 코드를 직접 실행
- **장점**:
  - ✅ 서버 비용 0 (클라이언트 사이드 실행)
  - ✅ 즉각적인 피드백
  - ✅ 오프라인 지원
  - ✅ 보안 (사용자 코드가 서버에 도달하지 않음)

---

## 📝 구현 계획 (단계별)

### Phase 1: 기초 IDE 구현 (1-2주)
- [ ] Pyodide 통합 및 초기화
- [ ] 기본 코드 에디터 구성
- [ ] 코드 실행 함수 구현
- [ ] 결과 출력 화면 구현
- [ ] 에러 핸들링 및 표시

### Phase 2: UI/UX 다듬기 (1주)
- [ ] 너굴포트 디자인 (CSS 스타일링)
- [ ] 반응형 레이아웃
- [ ] 에러 메시지 스타일링
- [ ] 로딩 상태 표시

### Phase 3: 피드백 시스템 (1-2주)
- [ ] 너굴 반응형 메시지
- [ ] TTS 음성 생성
- [ ] 애니메이션 효과
- [ ] 보상 시스템

### Phase 4: 커리큘럼 통합 (2주)
- [ ] 각 레슨별 미션 정의
- [ ] 자동 채점 로직
- [ ] 진행도 추적

### Phase 5: 고급 기능 (1-2주)
- [ ] 코드 자동완성
- [ ] 시각화 라이브러리
- [ ] 코드 저장 및 로드

---

## 📊 데이터 구조

### 미션 데이터 스키마

```javascript
{
  "_id": "mission_001",
  "topic": "variables",
  "title": "변수 이해하기",
  "difficulty": "beginner",
  "description": "당신의 이름을 저장하는 변수를 만들고 출력하세요",
  "startCode": "# 여기에 코드를 입력하세요\n",
  "testCases": [...],
  "hints": [...],
  "feedback": {...},
  "reward": {...}
}
```

---

## 🚨 주의사항 & 해결방법

### 1. Pyodide 초기 로딩 시간
**문제**: 첫 접속 시 30-50MB 다운로드 → 15-30초 로딩

**해결책**:
- ✅ 로딩 화면 예쁘게 디자인
- ✅ 서비스 워커로 캐싱
- ✅ 로딩 중 너굴의 팁 표시

### 2. 보안
**문제**: 사용자가 악의적인 코드 실행 가능

**해결책**:
- ✅ 실행 시간 제한 (5초)
- ✅ 메모리 제한
- ✅ 위험 함수 차단
- ✅ 샌드박스 환경

---

## 📞 문의 & 피드백

이 기획안에 대한 피드백이나 질문이 있으시면 언제든지 논의 가능합니다!

**최종 목표**: 게임처럼 재미있으면서도, 실제 코딩 실력을 키우는 교육 플랫폼
