# ğŸ“¦ ì „ëµ 1: ëª¨ë“ˆí˜• ì—ì…‹ ì‹œìŠ¤í…œ (Modular Asset System)

**ë¬¸ì„œ**: ê¸°ìˆ  ê³ ë„í™” ì „ëµ ì‹œë¦¬ì¦ˆ #1
**ì‘ì„±ì¼**: 2025-12-04
**ëª©í‘œ**: ì´ë¯¸ì§€ ì œì‘ ìµœì†Œí™” ë° ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”

---

## ğŸ¯ í•µì‹¬ ê°œë…

**ê¸°ì¡´ ë°©ì‹** âŒ
```
ë§¤ ì¥ë©´ë§ˆë‹¤ ì™„ì „í•œ ì¼ëŸ¬ìŠ¤íŠ¸ ì œì‘
â””â”€ Episode 1: 21ì¥
â””â”€ Episode 2: 21ì¥
â””â”€ Episode 3: 21ì¥
â””â”€ Total: 63ì¥ í•„ìš” (ì‹œê°„ ë‚­ë¹„)
```

**ëª¨ë“ˆí˜• ë°©ì‹** âœ…
```
ì´ˆê¸° ì—ì…‹ ì œì‘ (ë ˆê³  ë¸”ë¡ ê°™ì€ ìš”ì†Œë“¤)
â”œâ”€ ë°°ê²½ ë ˆì´ì–´: 5ì¥ (í•´ë³€, ì§‘, ìˆ², ë„ì‹œ ë“±)
â”œâ”€ ìºë¦­í„° ìŠ¤í”„ë¼ì´íŠ¸: 15ì¥ (í‘œì •/í¬ì¦ˆ ì¡°í•©)
â”œâ”€ UI í‹€: 8ì¥ (ëŒ€í™”ì°½, ë¯¸ì…˜ì°½, ë°°ë„ˆ ë“±)
â””â”€ Total: 28ì¥ ì´ˆê¸° ì œì‘

ì´í›„ ì—í”¼ì†Œë“œë§ˆë‹¤ ì¡°í•©ë§Œ ë³€ê²½ (í…ìŠ¤íŠ¸ ìˆ˜ì •ë§Œ í•„ìš”)
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ êµ¬ì¡°

### ë ˆì´ì–´ 1: ë°°ê²½ ë ˆì´ì–´ (Background Layer)

**ëª©ì **: ê° ì¥ë©´ì˜ ê¸°ë³¸ ë°°ê²½ ì„¤ì •

**í•„ìš” ì´ë¯¸ì§€**:
```
1. bg_island_daytime.png (ë‚®, í•´ë³€)
   - í•´ ì§ˆ ë…˜ í•´ë³€, í…íŠ¸, ì•¼ììˆ˜
   - í¬ê¸°: 1920x1080 (Full HD)
   - ì •ì  ë°°ê²½ (ì›€ì§ì„ ì—†ìŒ)

2. bg_island_night.png (ë°¤, í•´ë³€)
   - ë‹¬ë¹› ì•„ë˜ ì¡°ìš©í•œ í•´ë³€
   - í…Œë§ˆ: ìˆ™ë©´, íœ´ì‹

3. bg_island_shop.png (ë„ˆêµ´ ìƒì )
   - ì¹´ìš´í„°, ì„ ë°˜, ëˆ í‘œì‹œ
   - í…Œë§ˆ: ë¹„ì¦ˆë‹ˆìŠ¤, ê±°ë˜

4. bg_island_forest.png (ìˆ²)
   - ë‚˜ë¬´, í’€, ê³¤ì¶©
   - í…Œë§ˆ: íƒí—˜, ë°œê²¬

5. bg_island_public.png (ê³µê³µ ì¥ì†Œ)
   - íƒ€ìš´ ê´‘ì¥, ì•ˆë‚´ì†Œ
   - í…Œë§ˆ: ì‚¬ëŒ ë§ìŒ, í™œë™
```

**ì‚¬ìš© íŒ¨í„´**:
```
ë°°ê²½ ë ˆì´ì–´ëŠ” ì¥ë©´ ì „ì²´ì˜ "ìº”ë²„ìŠ¤"
â””â”€ ëª¨ë“  ìºë¦­í„°ì™€ UIê°€ ì´ ìœ„ì— ë°°ì¹˜ë¨
â””â”€ ì—í”¼ì†Œë“œ ë³€ê²½í•´ë„ ì¬ì‚¬ìš© ê°€ëŠ¥ (ìƒ‰ìƒ í•„í„° ì¡°ì •ìœ¼ë¡œ ë³€í™” ì¤„ ìˆ˜ ìˆìŒ)
```

---

### ë ˆì´ì–´ 2: ìºë¦­í„° ìŠ¤í”„ë¼ì´íŠ¸ (Character Sprites)

**ëª©ì **: ìºë¦­í„°ì˜ ë‹¤ì–‘í•œ í‘œì •/í¬ì¦ˆë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë¶„ë¦¬

#### ë„ˆêµ´ (Tom Nook) - 5ê°€ì§€ í‘œì •/í¬ì¦ˆ

```
1. nook_neutral.png
   - ìƒí™©: ë³´í†µ ëŒ€í™”, ì„¤ëª…
   - í‘œì •: ë¬´í‘œì •, ì•½ê°„ í”¼ê³¤í•œ ëˆˆ
   - í¬ì¦ˆ: íŒ” ë²Œë¦° ì¤‘ë¦½ ìì„¸
   - ìš©ë„: ê¸°ë³¸ ìƒíƒœ

2. nook_explain.png
   - ìƒí™©: ì¤‘ìš”í•œ ì„¤ëª…, ì§€ì‹œ
   - í‘œì •: ì§„ì§€í•¨
   - í¬ì¦ˆ: í•œ ì† ë“¤ê¸° (ê°€ë¥´ì¹˜ëŠ” í¬ì¦ˆ)
   - ìš©ë„: ë¯¸ì…˜ ì„¤ëª…, í•™ìŠµ ì‹œê°„

3. nook_surprised.png
   - ìƒí™©: ì—ëŸ¬ ë°œìƒ, ë¬¸ì œ ì§€ì 
   - í‘œì •: ë†€ëŒ (ëˆˆ ì»¤ì§, ì… ë²Œë¦¼)
   - í¬ì¦ˆ: ì–´ê¹¨ ì­‰ í´ê¸°
   - ìš©ë„: ì—ëŸ¬ í”¼ë“œë°±, ì£¼ì˜ í™˜ê¸°

4. nook_happy.png
   - ìƒí™©: í•™ìƒ ì„±ê³µ, ì¹­ì°¬
   - í‘œì •: í™œì§ ì›ƒìŒ (ëˆˆ ë™ê·¸ë€ ëª¨ì–‘)
   - í¬ì¦ˆ: ë°•ìˆ˜, ë˜ëŠ” ì†ê°€ë½ ì´ ëª¨ì–‘ (ì„±ê³µ)
   - ìš©ë„: ê¸ì • í”¼ë“œë°±, ë³´ìƒ

5. nook_greedy.png
   - ìƒí™©: ëˆ ì–˜ê¸°, ì´ì ê³„ì‚°
   - í‘œì •: íƒìš•ìŠ¤ëŸ¬ìš´ ë¯¸ì†Œ
   - í¬ì¦ˆ: ê³„ì‚°ê¸° ë‘ë“œë¦¬ê¸°
   - ìš©ë„: ê²Œì„ì˜ ë™ê¸° ë¶€ì—¬, ëª©í‘œ ê°•ì¡°
```

**ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ ì˜ˆì œ**:
```
nook_sheet.png (1024x2048 ì´ë¯¸ì§€ 1ì¥)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ neutral     â”‚ explain     â”‚  ê° 512x512
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ surprised   â”‚ happy       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ greedy      â”‚ [ì˜ˆì•½]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì½”ë“œì—ì„œ ì‚¬ìš©:
spriteSheet.showFrame('nook', 'happy')
```

#### í”Œë ˆì´ì–´ - 3ê°€ì§€ í‘œì •/í¬ì¦ˆ

```
1. player_normal.png
   - ë…¸íŠ¸ë¶ ê°€ë°©ì„ ë“¤ê³  ìˆëŠ” ê¸°ë³¸ ëª¨ìŠµ
   - ìš©ë„: ì¥ë©´ ì „í™˜ ì‹œ

2. player_coding.png
   - ë…¸íŠ¸ë¶ì„ ì—´ê³  í™”ë©´ì„ ë³´ëŠ” ëª¨ìŠµ
   - í‘œì •: ì§‘ì¤‘í•¨ (ëˆˆ ë°˜ì§ì„)
   - ìš©ë„: ì½”ë”© ì¤‘, ë¬¸ì œ í•´ê²° ì¤‘

3. player_success.png
   - ì–‘ì†ì„ ìœ„ë¡œ ë“¤ê³  í™˜í˜¸í•˜ëŠ” ëª¨ìŠµ
   - í‘œì •: í¬ê²Œ ì›ƒìŒ
   - í¬ì¦ˆ: ìŠ¤íŠ¸ë ˆì¹­, ìŠ¹ë¦¬ í¬ì¦ˆ
   - ìš©ë„: ë¯¸ì…˜ ì™„ë£Œ, ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
```

**í™œìš© ì˜ˆì‹œ**:
```javascript
// JavaScriptì—ì„œ ë ˆì´ì–´ ì¡°í•©
const scene = {
  background: 'bg_island_daytime.png',
  characters: [
    { name: 'nook', expression: 'explain', x: 600, y: 400 },
    { name: 'player', expression: 'coding', x: 1200, y: 400 }
  ],
  ui: [
    { type: 'dialogue_box', text: "ì, ì´ì œ ì½”ë”©ì„ ì‹œì‘í•´ë³¼ê¹Œ?" }
  ]
};

// ì´ë¯¸ì§€ëŠ” í•œ ë²ˆë§Œ ë¡œë“œë˜ê³ , ì¡°í•©ë§Œ ë°”ë€œ
```

---

### ë ˆì´ì–´ 3: UI ë ˆì´ì–´ (UI Layer)

**ëª©ì **: ê²Œì„ ì¸í„°í˜ì´ìŠ¤ ìš”ì†Œì˜ í”„ë ˆì„ë§Œ ì¤€ë¹„í•˜ê³ , í…ìŠ¤íŠ¸ëŠ” ë™ì ìœ¼ë¡œ ë Œë”ë§

#### í•„ìš”í•œ UI ì´ë¯¸ì§€

```
1. dialogue_box.png
   - ë™ìˆ² ìŠ¤íƒ€ì¼ì˜ ë§í’ì„  í‹€
   - ë°°ê²½: ë² ì´ì§€ìƒ‰, í…Œë‘ë¦¬: ê°ˆìƒ‰
   - í¬ê¸°: 800x120
   - ìš©ë„: ìºë¦­í„° ëŒ€ì‚¬

2. system_banner_success.png
   - ì´ˆë¡ìƒ‰ ë°°ë„ˆ (ì„±ê³µ)
   - í…ìŠ¤íŠ¸ ì˜ì—­: "âœ… ì„±ê³µ!" (ë™ì  ì…ë ¥)
   - í¬ê¸°: 600x80

3. system_banner_error.png
   - ë¹¨ê°„ìƒ‰ ë°°ë„ˆ (ì—ëŸ¬)
   - í…ìŠ¤íŠ¸ ì˜ì—­: "âŒ ì˜¤ë¥˜!" (ë™ì  ì…ë ¥)
   - í¬ê¸°: 600x80

4. mission_window.png
   - ë¯¸ì…˜ ëª©í‘œì°½ í”„ë ˆì„
   - ì œëª© ì˜ì—­: "ğŸ® ë¯¸ì…˜: ..." (ë™ì )
   - ì„¤ëª… ì˜ì—­: (ë™ì )
   - í¬ê¸°: 700x300

5. code_editor_frame.png
   - ì½”ë“œ ì—ë””í„° í‹€
   - í…Œë‘ë¦¬ì™€ ë°°ê²½ë§Œ
   - ì‹¤ì œ ì½”ë“œëŠ” HTML textarea ì‚¬ìš©

6. progress_bar_frame.png
   - ì§„í–‰ë„ í‘œì‹œ í‹€
   - ë°°ê²½ë§Œ, ì§„í–‰ ë¶€ë¶„ì€ CSSë¡œ ì±„ì›€

7. button_play.png
   - "â–¶ ì‹¤í–‰" ë²„íŠ¼ í˜•íƒœ
   - í˜¸ë²„ ìƒíƒœ: ë°ì•„ì§
   - í´ë¦­ ìƒíƒœ: ëˆ„ë¥´ëŠ” íš¨ê³¼

8. button_reset.png
   - "ğŸ”„ ì´ˆê¸°í™”" ë²„íŠ¼ í˜•íƒœ
```

**HTMLì—ì„œ ì‚¬ìš© ì˜ˆì‹œ**:
```html
<!-- UI í‹€ì€ ì´ë¯¸ì§€ë¡œ, í…ìŠ¤íŠ¸ëŠ” ë™ì ìœ¼ë¡œ -->
<div class="dialogue">
  <img src="dialogue_box.png" alt="ëŒ€í™”ì°½ í‹€">
  <p class="dialogue-text">
    "ì, ì´ì œ ì •ì‚°ì„ í•´ì•¼ì§€? ..."
  </p>
</div>
```

---

## ğŸ”„ ì¡°í•© ì‹œìŠ¤í…œ (Composition System)

### ì¥ë©´ êµ¬ì„± ë°©ì‹

```javascript
// ê° ì¥ë©´ì„ ì—ì…‹ì˜ ì¡°í•©ìœ¼ë¡œ ì •ì˜
const SCENES = {
  // Episode 1, Scene 1: ì˜¤í”„ë‹
  ep1_scene1: {
    background: 'bg_island_daytime',
    characters: [
      {
        name: 'nook',
        sprite: 'nook_neutral',
        x: 600, y: 300,
        animation: 'bounce' // ì‚´ì§ í†µí†µ íŠ€ëŠ” ì• ë‹ˆë©”ì´ì…˜
      }
    ],
    ui: [
      {
        type: 'dialogue',
        character: 'nook',
        text: "ë°˜ê°‘ë‹¤êµ¬ë¦¬! ë¬´ì¸ë„ ì´ì£¼ íŒ¨í‚¤ì§€ì— ë‹¹ì²¨ëœ ê±¸ í™˜ì˜í•´! â›º"
      }
    ],
    background_music: 'forest_theme.mp3'
  },

  // Episode 1, Scene 2: ë¹š ì„¤ì •
  ep1_scene2: {
    background: 'bg_island_shop',
    characters: [
      {
        name: 'nook',
        sprite: 'nook_greedy',
        x: 300, y: 300
      },
      {
        name: 'player',
        sprite: 'player_normal',
        x: 900, y: 300
      }
    ],
    ui: [
      {
        type: 'dialogue',
        character: 'nook',
        text: "ì, ì´ì œ ì •ì‚°ì„ í•´ì•¼ì§€? ì´ì•¡ì€ 49,800ë²¨ì´ë‹¤êµ¬ë¦¬! ğŸ’°"
      }
    ]
  },

  // Episode 2, Scene 1: ë‚˜ë¬´ í”ë“¤ê¸° (ì œì•ˆ)
  ep2_scene1: {
    background: 'bg_island_forest', // ì¬ì‚¬ìš©
    characters: [
      {
        name: 'nook',
        sprite: 'nook_explain', // ë‹¤ë¥¸ í‘œì •
        x: 600, y: 300
      }
    ],
    ui: [
      {
        type: 'mission_window',
        title: "ë¬´ì‘ìœ„ ìˆ˜ ìƒì„± (Random Numbers)",
        description: "ë‚˜ë¬´ë¥¼ í”ë“¤ë©´ ëˆì´ ë–¨ì–´ì§ˆê¹Œ, ë²Œì§‘ì´ ë–¨ì–´ì§ˆê¹Œ?"
      }
    ]
  }
};
```

---

## ğŸ“Š íš¨ìœ¨ì„± ë¶„ì„

### ì´ˆê¸° ì œì‘ ë¹„ìš© vs ìˆ˜ìµ

```
ì´ˆê¸° íˆ¬ì (Initial Investment):
â”œâ”€ ë°°ê²½ ì´ë¯¸ì§€: 5ì¥ Ã— 4ì‹œê°„ = 20ì‹œê°„
â”œâ”€ ìºë¦­í„° ìŠ¤í”„ë¼ì´íŠ¸: 8ì¥ Ã— 3ì‹œê°„ = 24ì‹œê°„
â””â”€ UI ìš”ì†Œ: 8ì¥ Ã— 1ì‹œê°„ = 8ì‹œê°„
   â””â”€ ì´ ì´ˆê¸°: 52ì‹œê°„

ì—í”¼ì†Œë“œë‹¹ ì œì‘ (Per Episode):
â”œâ”€ ë°°ê²½: 0ì‹œê°„ (ì¬ì‚¬ìš©)
â”œâ”€ ìºë¦­í„°: 0ì‹œê°„ (ì¬ì‚¬ìš©)
â”œâ”€ UI: 0ì‹œê°„ (ì¬ì‚¬ìš©)
â”œâ”€ ì¥ë©´ ì¡°í•©: 3ì‹œê°„
â””â”€ í…ìŠ¤íŠ¸ ì‘ì„±: 4ì‹œê°„
   â””â”€ ì´ ì—í”¼ì†Œë“œ: 7ì‹œê°„

ê¸°ì¡´ ë°©ì‹ (Full Illustration):
â””â”€ ì—í”¼ì†Œë“œë‹¹: 42ì‹œê°„ (21ì¥ Ã— 2ì‹œê°„)

ë¹„êµ:
- ì—í”¼ì†Œë“œ 1: 52 + 42 = 94ì‹œê°„ (ê¸°ì¡´ 42ì‹œê°„ + ì´ˆê¸°íˆ¬ì 52ì‹œê°„)
- ì—í”¼ì†Œë“œ 2: 52 + 7 = 59ì‹œê°„ ì ˆì•½ (75% ì‹œê°„ ë‹¨ì¶•)
- ì—í”¼ì†Œë“œ 3: 52 + 7 = 59ì‹œê°„ ì ˆì•½
- ì—í”¼ì†Œë“œ 4: 52 + 7 = 59ì‹œê°„ ì ˆì•½
- Total 4 ì—í”¼ì†Œë“œ: 94 + 59 + 59 + 59 = 271ì‹œê°„ vs ê¸°ì¡´ 168ì‹œê°„

ê²°ë¡ : ì´ˆê¸° 52ì‹œê°„ íˆ¬ìë¡œ ì¥ê¸°ì ìœ¼ë¡œ ë§¤ìš° íš¨ìœ¨ì !
```

---

## ğŸ› ï¸ ê¸°ìˆ  êµ¬í˜„ (Technical Implementation)

### í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

```
frontend/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ backgrounds/
â”‚   â”‚   â”‚   â”œâ”€â”€ bg_island_daytime.png
â”‚   â”‚   â”‚   â”œâ”€â”€ bg_island_night.png
â”‚   â”‚   â”‚   â”œâ”€â”€ bg_island_shop.png
â”‚   â”‚   â”‚   â”œâ”€â”€ bg_island_forest.png
â”‚   â”‚   â”‚   â””â”€â”€ bg_island_public.png
â”‚   â”‚   â”œâ”€â”€ characters/
â”‚   â”‚   â”‚   â”œâ”€â”€ sprites/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ nook_sheet.png (ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ player_sheet.png
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ npcs_sheet.png
â”‚   â”‚   â”‚   â””â”€â”€ animations/
â”‚   â”‚   â”‚       â”œâ”€â”€ nook_bounce.json
â”‚   â”‚   â”‚       â””â”€â”€ player_celebrate.json
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ dialogue_box.png
â”‚   â”‚       â”œâ”€â”€ banner_success.png
â”‚   â”‚       â”œâ”€â”€ banner_error.png
â”‚   â”‚       â”œâ”€â”€ mission_window.png
â”‚   â”‚       â”œâ”€â”€ progress_bar.png
â”‚   â”‚       â”œâ”€â”€ button_play.png
â”‚   â”‚       â””â”€â”€ button_reset.png
â”‚   â””â”€â”€ scenes/
â”‚       â”œâ”€â”€ episode1_scenes.json
â”‚       â”œâ”€â”€ episode2_scenes.json
â”‚       â””â”€â”€ episode3_scenes.json
â””â”€â”€ src/
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ AssetManager.ts
    â”‚   â”œâ”€â”€ SceneComposer.ts
    â”‚   â”œâ”€â”€ CharacterRenderer.ts
    â”‚   â””â”€â”€ UIRenderer.ts
    â””â”€â”€ data/
        â””â”€â”€ scene_definitions.ts
```

### AssetManager í´ë˜ìŠ¤

```typescript
class AssetManager {
  private assets: Map<string, HTMLImageElement> = new Map();

  async loadAsset(name: string, path: string): Promise<void> {
    const img = new Image();
    img.src = path;
    await new Promise(resolve => img.onload = resolve);
    this.assets.set(name, img);
  }

  async loadMultiple(assetList: {name: string, path: string}[]): Promise<void> {
    await Promise.all(assetList.map(a => this.loadAsset(a.name, a.path)));
  }

  getAsset(name: string): HTMLImageElement {
    return this.assets.get(name)!;
  }

  // ì´ˆê¸° ë¡œë”© (í•œ ë²ˆë§Œ)
  async preloadAllAssets(): Promise<void> {
    const assets = [
      { name: 'bg_daytime', path: 'assets/backgrounds/bg_island_daytime.png' },
      { name: 'nook_sheet', path: 'assets/characters/sprites/nook_sheet.png' },
      { name: 'dialogue_box', path: 'assets/ui/dialogue_box.png' },
      // ... ëª¨ë“  ì—ì…‹
    ];
    await this.loadMultiple(assets);
  }
}

// ì‚¬ìš©
const assetManager = new AssetManager();
await assetManager.preloadAllAssets(); // ê²Œì„ ì‹œì‘ ì‹œ í•œ ë²ˆë§Œ
```

### SceneComposer í´ë˜ìŠ¤

```typescript
class SceneComposer {
  private canvas: HTMLCanvasElement;
  private ctx: CanvasRenderingContext2D;
  private assetManager: AssetManager;

  async renderScene(sceneDefinition: any): Promise<void> {
    // 1. ë°°ê²½ ê·¸ë¦¬ê¸°
    const bg = this.assetManager.getAsset(sceneDefinition.background);
    this.ctx.drawImage(bg, 0, 0);

    // 2. ìºë¦­í„° ê·¸ë¦¬ê¸°
    for (const char of sceneDefinition.characters) {
      const sprite = this.getCharacterSprite(char);
      this.ctx.drawImage(sprite, char.x, char.y, 400, 400);
    }

    // 3. UI ë Œë”ë§ (HTML)
    this.renderUI(sceneDefinition.ui);
  }

  private getCharacterSprite(charDef: any): HTMLImageElement {
    const sheet = this.assetManager.getAsset(`${charDef.name}_sheet`);
    // ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ì—ì„œ í•´ë‹¹ í‘œì • ì¶”ì¶œ
    const frameIndex = this.getFrameIndex(charDef.name, charDef.sprite);
    return this.cropSprite(sheet, frameIndex);
  }

  private cropSprite(sheet: HTMLImageElement, frameIndex: number): HTMLImageElement {
    // ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ ì¢Œí‘œ ê³„ì‚°
    const cols = 2, rows = 3;
    const col = frameIndex % cols;
    const row = Math.floor(frameIndex / cols);

    const canvas = document.createElement('canvas');
    canvas.width = 512;
    canvas.height = 512;
    const ctx = canvas.getContext('2d')!;

    ctx.drawImage(sheet,
      col * 512, row * 512, 512, 512,
      0, 0, 512, 512
    );

    const img = new Image();
    img.src = canvas.toDataURL();
    return img;
  }
}
```

---

## ğŸ’¾ ì—ì…‹ ì €ì¥ ë° ê´€ë¦¬

### JSON ê¸°ë°˜ ì¥ë©´ ì •ì˜

```json
{
  "episode": 1,
  "scene": 1,
  "title": "ì˜¤í”„ë‹ ì»·ì‹ ",
  "background": "bg_island_daytime",
  "characters": [
    {
      "name": "nook",
      "sprite": "nook_neutral",
      "position": {"x": 600, "y": 300},
      "animation": "bounce",
      "duration": 3000
    }
  ],
  "ui": [
    {
      "type": "dialogue",
      "character": "nook",
      "text": "ë°˜ê°‘ë‹¤êµ¬ë¦¬!",
      "duration": 4000
    }
  ],
  "audio": {
    "bgm": "forest_theme.mp3",
    "volume": 0.6
  },
  "transitions": {
    "nextScene": "on_dialogue_complete"
  }
}
```

---

## ğŸ“ˆ í™•ì¥ ì‹œë‚˜ë¦¬ì˜¤

### ìƒˆë¡œìš´ NPC ì¶”ê°€ (ìµœì†Œ ë¹„ìš©)

ê¸°ì¡´: ìƒˆ NPCë‹¹ 20ê°œ í‘œì • Ã— 2ì‹œê°„ = 40ì‹œê°„

ì œì•ˆ:
```
1. ê¸°ì¡´ ë„ˆêµ´ ìŠ¤í”„ë¼ì´íŠ¸ ì¼ë¶€ ì¬ì‚¬ìš© (ì‹ ì²´)
2. ë¨¸ë¦¬/ì–¼êµ´ë§Œ ìƒˆë¡œ ê·¸ë¦¬ê¸° (4ì‹œê°„)
3. ê¸°ì¡´ ì• ë‹ˆë©”ì´ì…˜ ì¬ì‚¬ìš©
â””â”€ ì´: 4ì‹œê°„ (90% ë‹¨ì¶•!)
```

### ê³„ì ˆ ë³€í™” (í•„í„° í™œìš©)

ê¸°ì¡´: ê³„ì ˆë§ˆë‹¤ ìƒˆ ë°°ê²½ Ã— 5 = 10ì‹œê°„

ì œì•ˆ:
```
1. ê¸°ì¡´ ë°°ê²½ ì´ë¯¸ì§€ ì¬ì‚¬ìš©
2. CSS í•„í„° ì ìš© (ìƒ‰ìƒ, ë°ê¸°, í¬í™”ë„)
3. ê³„ì ˆë³„ íš¨ê³¼ìŒ ì¶”ê°€
â””â”€ ì´: 1ì‹œê°„ (90% ë‹¨ì¶•!)
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì—ì…‹ ì¤€ë¹„ ë‹¨ê³„
- [ ] ë°°ê²½ 5ì¥ ì œì‘
- [ ] ë„ˆêµ´ ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ (5ê°œ í‘œì •)
- [ ] í”Œë ˆì´ì–´ ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ (3ê°œ í¬ì¦ˆ)
- [ ] UI ìš”ì†Œ 8ê°œ ì´ë¯¸ì§€
- [ ] ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ ë ˆì´ì•„ì›ƒ ì •ì˜

### ì‹œìŠ¤í…œ êµ¬í˜„ ë‹¨ê³„
- [ ] AssetManager í´ë˜ìŠ¤ êµ¬í˜„
- [ ] SceneComposer í´ë˜ìŠ¤ êµ¬í˜„
- [ ] JSON ì¥ë©´ ì •ì˜ íŒŒì„œ
- [ ] ìŠ¤í”„ë¼ì´íŠ¸ ì‹œíŠ¸ í¬ë¡œí•‘ ë¡œì§
- [ ] ì• ë‹ˆë©”ì´ì…˜ ì—”ì§„ ì—°ë™

### í†µí•© ë° í…ŒìŠ¤íŠ¸
- [ ] ê¸°ì¡´ story.htmlê³¼ í†µí•©
- [ ] ë Œë”ë§ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (60fps)
- [ ] ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¸¡ì •
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í˜¸í™˜ì„±
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‘ì„±

---

## ğŸ¯ ì˜ˆìƒ ê²°ê³¼

```
Phase 3 ì ìš© í›„:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Episode 1: ê¸°ì¡´ ë°©ì‹ ìœ ì§€                      â”‚
â”‚ (ì´ë¯¸ ì™„ì„±ëœ ìƒíƒœ)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Episode 2: ëª¨ë“ˆí˜• ì—ì…‹ ì‹œìŠ¤í…œ ì²« ì ìš©          â”‚
â”‚ â€¢ ì—ì…‹ ì¡°í•©ìœ¼ë¡œ ì œì‘ (3ì¼)                      â”‚
â”‚ â€¢ í…ìŠ¤íŠ¸ ë° ë¯¸ì…˜ ì •ì˜ (2ì¼)                     â”‚
â”‚ â€¢ í…ŒìŠ¤íŠ¸ ë° ë°°í¬ (1ì¼)                         â”‚
â”‚ ì´ 6ì¼ (ê¸°ì¡´ 2ì£¼ ëŒ€ë¹„ 71% ì‹œê°„ ë‹¨ì¶•)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Episode 3-4: ë§¤ìš° ë¹ ë¥¸ ì œì‘ ì†ë„               â”‚
â”‚ â€¢ ì—í”¼ì†Œë“œë‹¹ 5-6ì¼                             â”‚
â”‚ â€¢ ì—ì…‹ ì¡°í•©ë§Œìœ¼ë¡œ ë‹¤ì–‘í•œ ì¥ë©´ ì œì‘             â”‚
â”‚ â€¢ í…ìŠ¤íŠ¸ ìˆ˜ì •ì€ ì¦‰ì‹œ ë°˜ì˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê²°ë¡ : ì²˜ìŒ íˆ¬ì í›„ ì§€ìˆ˜ì  ì†ë„ í–¥ìƒ!
```

---

**ìƒíƒœ**: âœ… ëª¨ë“ˆí˜• ì—ì…‹ ì‹œìŠ¤í…œ ì„¤ê³„ ì™„ë£Œ
**ë‹¤ìŒ**: `02_NEURO_NOOK_AI_SYSTEM.md` ì½ê¸°
