# 너굴 코딩 플랫폼 - 프로젝트 개발 로드맵

## 📋 개요

이 문서는 **"내 코드가 게임 세상에 영향을 미치는"** 너굴 코딩 플랫폼을 구축하기 위한 **6개월 개발 로드맵**을 제시합니다.

총 4개 Phase, 12개 Sprint로 구성되며, 각 Phase는 구체적인 마일스톤과 DoD를 가집니다.

---

## 🎯 프로젝트 비전 & 목표

### 비전
**"학생들이 직접 작성한 Java 코드로 동물의 숲 게임 세상을 조작하는 체험형 코딩 교육 플랫폼"**

### 전략적 목표

| 순번 | 목표 | 성과 지표 |
|------|------|---------|
| 1 | 코드-게임 루프 구축 | 코드 실행 → 게임 상태 변경 100% 자동화 |
| 2 | 학습 효과 극대화 | 학생 만족도 4.5/5 이상 |
| 3 | 확장성 있는 아키텍처 | 새로운 미션 추가 < 1시간 |
| 4 | 안정적인 운영 | 가용성 99.9%, 오류 자동 감지 |

---

## 📅 전체 로드맵 타임라인

```
Phase 1: MVP 기초 인프라 (2주)
  ├─ Sprint 1: 코드 실행 엔진
  └─ Sprint 2: 기본 게임 상태

Phase 2: 게임 시스템 확충 (3주)
  ├─ Sprint 3: 게임 렌더러
  ├─ Sprint 4: 대화 시스템
  └─ Sprint 5: 게임 기계치

Phase 3: 스토리라인 & 콘텐츠 (2주)
  ├─ Sprint 6: 콘텐츠 데이터
  └─ Sprint 7: 스토리 구현

Phase 4: 출시 & 운영 (2주)
  ├─ Sprint 8: 성능 최적화
  ├─ Sprint 9: 보안 강화
  └─ Sprint 10: 모니터링 & 배포

총 기간: 9주
버퍼: 1주 (예비)
출시: 10주차
```

---

### Phase 1️⃣: MVP 기초 인프라 (Week 1-2) - **COMPLETED**

### 목표
"학생의 코드를 실행하고, 게임 상태를 관리할 수 있는가?"

### Phase 1 범위 (Actual Status)

```
✅ 완료:
- 백엔드 코드 실행 API (Java 지원 구현 완료!)
- 프론트엔드 IDE 윈도우
- Redux 게임 상태 관리 (Economy, World, Progression)
- 기본 게임 브릿지 (Java Output -> Game State)
- TileGrid 렌더러 (Phase 2에서 조기 구현)

❌ 제외 (Phase 3 이월):
- Docker 샌드박스 (현재 child_process 사용)
- 정적 분석 심화
```

### Sprint 1: 코드 실행 엔진 (Week 1) - **DONE**

#### 목표: 백엔드에서 Java/JS 코드를 실행하고 결과를 반환

#### 구현 현황 (Status Update)
- [x] JavaExecutionService 구현 (spawn 기반)
- [x] CodeValidator (Test Wrapper 기반)
- [x] GameBridgeService (RegEx 기반)
- [x] `/api/java/*` 엔드포인트
- [x] 단위 테스트 & 속성 테스트(Property-based) 완료!

... (상세 계획 생략) ...

#### DoD (Sprint 1)
- [x] ExecutionService 구현 완료
- [x] CodeValidator 구현 완료
- [x] 단위 테스트 통과 (4/4 Pass)
- [x] Swagger 문서 작성 (`06_SPEC_api_definition.yaml`)

---

### Sprint 2: 기본 게임 상태 & 미션 (Week 2) - **DONE**

#### 목표: Redux 상태 관리 & 기초 미션 구현

#### 구현 현황
- [x] Redux Store (RootState)
- [x] economySlice, worldSlice, progressionSlice
- [x] MissionPage & Side Panel UI

... (상세 계획 생략) ...

#### DoD (Sprint 2)
- [x] Redux Store 완성
- [x] Slices 완성
- [x] MissionPage UI 완성
- [x] E2E 테스트 시나리오 작성 (`/frontend/e2e`)

---

### Sprint 3: 타일 그리드 렌더러 (Week 3) - **DONE**

#### 목표: 2D 배열 지도 렌더링

#### 구현 현황
- [x] TileGridRenderer 컴포넌트
- [x] worldSlice 연동
- [x] Grid 클릭 이벤트 (로그 출력)
- [x] Unit Test (`TileGridRenderer.test.tsx`)

#### DoD (Sprint 3)
- [x] TileGridRenderer 구현 완료
- [x] 모바일 반응형 (TailwindCSS)
- [x] 테스트 통과 (Unit Test Pass)

---

### Sprint 4: 대화 시스템 (Week 4)

#### 목표: NPC와 대화하기

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 4.1 | DialogueOverlay 컴포넌트 | Frontend |
| 4.2 | 대화 데이터 스키마 | Content |
| 4.3 | 캐릭터 이미지/애니메이션 | Design |
| 4.4 | 타이핑 효과 | Frontend |

#### 대화 데이터 예시

```json
{
  "id": "isabelle_welcome",
  "character": "isabelle",
  "lines": [
    {
      "text": "환영합니다!",
      "emotion": "happy"
    },
    {
      "text": "코드로 섬을 만들어봅시다!",
      "emotion": "excited"
    }
  ]
}
```

#### DoD (Sprint 4)
- [ ] DialogueOverlay 구현
- [ ] 5개 대화 시나리오 추가
- [ ] 타이핑 효과 부드럽게
- [ ] 테스트 15개 통과

---

### Sprint 5: 게임 기계치 & 미션 확충 (Week 5)

#### 목표: 환경 시스템 + 6개 추가 미션

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 5.1 | EnvironmentSystem (시간/날씨) | Frontend |
| 5.2 | GameEventSystem | Backend |
| 5.3 | 6개 추가 미션 콘텐츠 | Content |
| 5.4 | 통합 테스트 | QA |

#### 미션 리스트 (총 9개)

| 미션 | 개념 | 난도 |
|------|------|------|
| m_01 | 변수 | 쉬움 |
| m_02 | 조건문 | 쉬움 |
| m_03 | 루프 | 쉬움 |
| m_04 | 배열 (고정) | 쉬움 |
| m_05 | 함수 | 중간 |
| m_06 | ArrayList | 중간 |
| m_07 | 2D 배열 | 중간 |
| m_08 | 객체지향 | 어려움 |
| m_09 | 예외 처리 | 어려움 |

#### DoD (Phase 2)
- [ ] TileGridRenderer 완성
- [ ] DialogueOverlay 완성
- [ ] EnvironmentSystem 완성
- [ ] 9개 미션 모두 구현
- [ ] E2E 테스트 15개 통과
- [ ] 성능 지표 통과 (응답 < 500ms)

---

## Phase 3️⃣: 스토리라인 & 고도화 (Week 6-7)

### 목표
"게임이 흐르는 이야기를 가지고 있는가?"

### Phase 3 범위

```
✅ 구현 예정:
- 전체 스토리라인 (너굴 빚 → 섬 테라포밍 → ...)
- 고급 게임 메커니즘 (친밀도, 경제 시뮬레이션)
- 정적 분석 완성 (AST 기반 검증)
- 성능 최적화

🎨 개선:
- UI/UX 디자인 고도화
- 캐릭터 상호작용 확대
```

### Sprint 6: 스토리 통합 (Week 6)

#### 목표: 모든 미션이 통일된 이야기로 연결

#### 스토리라인 개요

```
Act 1: 도착 (m_01-03)
└─ 너굴: "빚을 졌어요!" (500,000 벨)

Act 2: 첫 수입 (m_04-06)
└─ 낚시, 채집으로 벨 모으기
└─ 친구들과 거래

Act 3: 섬 개발 (m_07-09)
└─ 2D 배열로 지형 설계
└─ 구조물 건설
└─ 섬의 가치 증대

Ending: 빚 상환
└─ 너굴: "멋진 섬이 됐어요!"
```

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 6.1 | 스토리 데이터 작성 | Content |
| 6.2 | 스토리 트리거 로직 | Backend |
| 6.3 | 스토리 UI | Frontend |
| 6.4 | 통합 테스트 | QA |

#### DoD (Sprint 6)
- [ ] 전체 스토리라인 완성
- [ ] 모든 미션이 스토리와 연결
- [ ] 스토리 E2E 테스트 통과
- [ ] 스토리 데이터 완성도 100%

---

### Sprint 7: 고도화 & 최적화 (Week 7)

#### 목표: 성능, 보안, 안정성 향상

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 7.1 | 정적 분석 완성 | Backend |
| 7.2 | 캐싱 (Redis) | Backend |
| 7.3 | 번들 최적화 | Frontend |
| 7.4 | 보안 감사 | DevOps |
| 7.5 | 부하 테스트 | QA |

#### DoD (Phase 3)
- [ ] 스토리라인 완성도 100%
- [ ] 정적 분석 정확도 90%+
- [ ] 응답 시간 < 300ms
- [ ] 번들 크기 < 1MB (gzip)
- [ ] 보안 취약점 0개 (Critical)
- [ ] 부하 테스트 (100 동시 사용자) 통과

---

## Phase 4️⃣: 출시 & 운영 (Week 8-9)

### 목표
"안정적으로 운영할 수 있는 플랫폼인가?"

### Phase 4 범위

```
✅ 구현 예정:
- 성능 최적화
- 보안 강화
- 모니터링 & 로깅
- 배포 자동화
- 사용자 문서

🎯 출시 준비:
- 최종 QA
- 릴리스 노트
- 사용자 교육
```

### Sprint 8: 성능 최적화 (Week 8)

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 8.1 | 프론트엔드 번들 분석 | Frontend |
| 8.2 | 이미지 최적화 | Frontend |
| 8.3 | API 캐싱 | Backend |
| 8.4 | 데이터베이스 인덱스 | Backend |
| 8.5 | CDN 설정 | DevOps |

#### 성능 목표

| 지표 | 현재 (예상) | 목표 |
|------|-----------|------|
| 초기 로드 시간 | 3.5s | < 2.5s |
| API 응답 (p95) | 400ms | < 200ms |
| 번들 크기 | 1.2MB | < 900KB |
| Lighthouse Score | 75 | > 90 |

---

### Sprint 9: 보안 & 모니터링 (Week 9)

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 9.1 | SSL/TLS 인증서 | DevOps |
| 9.2 | 환경 변수 관리 | DevOps |
| 9.3 | Sentry 통합 | Backend |
| 9.4 | 성능 모니터링 (Datadog) | DevOps |
| 9.5 | 알림 규칙 설정 | DevOps |
| 9.6 | 최종 보안 감사 | Security |

#### 보안 체크리스트
- [ ] 환경 변수 (.env) 안전
- [ ] SQL Injection 방지
- [ ] XSS 방지
- [ ] CSRF 토큰 확인
- [ ] 레이트 리미팅 활성화
- [ ] 로그인 재시도 제한
- [ ] 패스워드 해싱 (bcrypt)

---

### Sprint 10: 최종 출시 (Week 10)

#### 구현 항목
| # | 항목 | 담당 |
|---|------|------|
| 10.1 | 최종 QA | QA |
| 10.2 | 릴리스 노트 작성 | Content |
| 10.3 | 사용자 가이드 | Content |
| 10.4 | 배포 (프로덕션) | DevOps |
| 10.5 | 배포 후 모니터링 | DevOps |

#### 배포 체크리스트
- [ ] 모든 테스트 통과
- [ ] 성능 지표 확인
- [ ] 모니터링 활성화
- [ ] 롤백 계획 수립
- [ ] 알림 채널 준비
- [ ] 팀 준비

#### DoD (Phase 4)
- [ ] 모든 기능 완성도 100%
- [ ] 테스트 커버리지 > 85%
- [ ] 성능 지표 달성
- [ ] 보안 감사 통과
- [ ] 배포 완료
- [ ] 모니터링 1주일 안정적

---

## 📊 주간 진행도 추적 (Burndown Chart 템플릿)

```
Week 1:
├─ Sprint 1 Work Items: 15개
├─ Completed: 12개 (80%)
├─ Remaining: 3개
└─ 상태: 진행 중, 일정 내

Week 2:
├─ Sprint 1+2 Work Items: 25개
├─ Completed: 22개 (88%)
├─ Remaining: 3개 (마이그레이션 지연)
└─ 상태: 진행 중, 약간 지연

...

Week 9-10:
├─ Phase 4 Work Items: 20개
├─ Completed: 20개 (100%)
├─ Remaining: 0개
└─ 상태: 완료, 출시 준비
```

---

## 🎯 릴리스 버전 전략

### Semantic Versioning (SemVer)

```
v0.1.0-alpha   (Week 2) - MVP 알파
v0.2.0-beta    (Week 5) - 게임 시스템 베타
v0.9.0-rc1     (Week 8) - 출시 후보 1
v1.0.0         (Week 10) - 정식 출시
```

### 버전별 기능

| 버전 | 기능 | 미션 수 | 상태 |
|------|------|--------|------|
| 0.1.0-alpha | 코드 실행, 기본 상태 | 3개 | 개발중 |
| 0.2.0-beta | 게임 렌더링, 대화 | 9개 | 개발중 |
| 0.9.0-rc | 스토리라인, 최적화 | 9개 | 테스트 |
| 1.0.0 | 완전한 플랫폼 | 9개 | 출시 |

---

## 🚨 위험 관리 (Risk Register)

| # | 위험 | 확률 | 영향 | 점수 | 대응 |
|---|------|------|------|------|------|
| 1 | Java 컴파일 복잡도 | 중간 | 높음 | 7 | Phase 1은 JS만, Phase 2 Java 추가 |
| 2 | 코드 실행 보안 | 높음 | 높음 | 9 | VM2 격리, 타임아웃, 리뷰 |
| 3 | 성능 저하 | 중간 | 중간 | 6 | 조기 성능 테스트, 캐싱 |
| 4 | 스토리 완성도 | 낮음 | 높음 | 5 | Content 전문가 고용 |
| 5 | 배포 문제 | 낮음 | 높음 | 5 | 철저한 테스트, 롤백 계획 |

---

## 📋 리소스 할당

### 팀 구성 (권장)

| 역할 | 명수 | 책임 |
|------|------|------|
| 백엔드 엔지니어 | 1명 | 코드 실행 엔진, API |
| 프론트엔드 엔지니어 | 1명 | IDE, 게임 UI |
| DevOps/인프라 | 0.5명 | 배포, 모니터링 |
| QA | 1명 | 테스트, 품질 관리 |
| 콘텐츠 | 0.5명 | 미션, 스토리 |
| **총 인력** | **4명** | - |

### 예산 (3개월 기준)
```
월급: 4명 × $5,000 × 3개월 = $60,000
클라우드 인프라: $3,000/월 × 3 = $9,000
도구 & 라이선스: $2,000
총: ~$71,000
```

---

## 📈 성공 지표 (KPIs)

### Phase 별 성공 지표

| Phase | KPI | 목표 | 측정 방법 |
|-------|-----|------|---------|
| Phase 1 | 코드 실행 성공률 | 100% | 테스트 |
| Phase 1 | API 응답 시간 | < 500ms | 부하 테스트 |
| Phase 2 | 미션 완료율 | 80%+ | 사용자 테스트 |
| Phase 2 | 게임 성능 (FPS) | > 60fps | DevTools |
| Phase 3 | 전체 테스트 커버리지 | > 85% | Jest |
| Phase 4 | 배포 성공 | 100% | CI/CD |
| Phase 4 | 시스템 가용성 | > 99.5% | 모니터링 |

### 최종 목표 (출시 후)

| 지표 | 목표 |
|------|------|
| 사용자 만족도 | 4.5/5 |
| 월간 활성 사용자 | 1000+ |
| 코드 작성 시간 | 평균 15분 |
| 코드 실행 성공률 | 95%+ |
| 시스템 가용성 | 99.9% |

---

## 🔄 정기 리뷰 & 조정

### 주간 리뷰 (매주 금요일)
```
1. 완료한 작업 검토
2. Burn-down chart 확인
3. 병목 지점 파악
4. 위험 요소 검토
5. 다음주 계획 조정
```

### 2주 스프린트 리뷰 (Sprint 끝)
```
1. Sprint Goal 달성 여부
2. 모든 DoD 확인
3. 팀 회고 (Retrospective)
4. 다음 Sprint 계획
```

### 월간 Phase 리뷰
```
1. Phase 목표 달성도
2. 전체 로드맵 조정
3. 스코프 변경 논의
4. 다음 Phase 준비
```

---

## 📝 체크리스트 (프로젝트 시작 전)

- [ ] 팀 모집 완료
- [ ] 개발 환경 세팅 완료
- [ ] Git 저장소 생성
- [ ] CI/CD 파이프라인 구축
- [ ] 디자인 시스템 정의
- [ ] 데이터베이스 스키마 설계
- [ ] API 스펙 정의
- [ ] 모니터링 도구 선정
- [ ] 커뮤니케이션 채널 구성 (Slack, etc)
- [ ] 코드 리뷰 프로세스 정의
- [ ] DoD & Definition of Ready 승인

---

## 🎉 프로젝트 완료 후

### 1차 릴리스 후 계획

#### 단기 (1-2개월)
- 사용자 피드백 수집
- 버그 Hotfix
- 성능 최적화

#### 중기 (3-6개월)
- 새로운 미션 추가 (10-20개)
- 고급 기능 (멀티플레이, 리더보드)
- 모바일 앱 개발

#### 장기 (6개월+)
- 프로그래밍 언어 확대 (Python, C++)
- AI 기반 튜터링
- 글로벌 확장

