<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë„ˆêµ´ ì½”ë”© - ì—í”¼ì†Œë“œ 1: ê³µì§œëŠ” ì—†ë‹¤êµ¬ë¦¬!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f5deb3 0%, #ffeaa7 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            grid-auto-rows: auto;
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        .scene {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            animation: slideIn 0.5s ease-out;
            display: none;
            grid-column: 1 / -1;
        }

        .scene.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .scene-image {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .dialogue {
            background: #f8f9fa;
            border-left: 5px solid #ff9800;
            padding: 15px 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 16px;
            line-height: 1.6;
        }

        .dialogue strong {
            color: #c4603d;
            font-size: 18px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            border: 2px solid #ff9800;
        }

        .code-block pre {
            margin: 0;
            line-height: 1.5;
        }

        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #00ff00;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        button:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 152, 0, 0.4);
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .ide-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            grid-column: 1 / -1;
        }

        .ide-section.active {
            display: block;
        }

        .ide-section h3 {
            color: #c4603d;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .mission-title {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        #editor {
            width: 100%;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
        }

        .editor-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: flex-start;
        }

        .run-button {
            background: #4CAF50;
        }

        .run-button:hover {
            background: #45a049;
        }

        .reset-button {
            background: #2196F3;
        }

        .reset-button:hover {
            background: #0b7dda;
        }

        .output-section {
            background: #1e1e1e;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .output-section.active {
            display: block;
        }

        .output-title {
            color: #ff9800;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .output {
            color: #00ff00;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .error {
            color: #ff6b6b;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .step-counter {
            background: #ff9800;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .nook-quote {
            background: #ffe8cc;
            border: 3px solid #ff9800;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            font-size: 16px;
            line-height: 1.8;
            font-weight: 500;
            color: #c4603d;
        }

        .header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            border-radius: 20px;
            margin-bottom: 20px;
            grid-column: 1 / -1;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .progress {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            grid-column: 1 / -1;
        }

        .progress-item {
            flex: 1;
            height: 8px;
            background: #ddd;
            border-radius: 10px;
            margin: 0 5px;
            position: relative;
        }

        .progress-item.completed {
            background: #4CAF50;
        }

        .progress-item.active {
            background: #ff9800;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .keyboard-hint {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <div class="header">
            <h1>ğŸï¸ ë„ˆêµ´ ì½”ë”© - ì—í”¼ì†Œë“œ 1</h1>
            <p>ê³µì§œëŠ” ì—†ë‹¤êµ¬ë¦¬!</p>
        </div>

        <!-- ì§„í–‰ë„ -->
        <div class="progress" id="progressBar">
            <div class="progress-item completed"></div>
            <div class="progress-item"></div>
            <div class="progress-item"></div>
            <div class="progress-item"></div>
            <div class="progress-item"></div>
        </div>

        <!-- Scene 1: ì˜¤í”„ë‹ -->
        <div class="scene active" data-scene="1">
            <h2>ğŸ¬ ì˜¤í”„ë‹ ì»·ì‹ </h2>
            <img src="/episode/1/opening.jpg" alt="ë„ˆêµ´ì˜ ê³„ì‚°ê¸°" class="scene-image">

            <div class="nook-quote">
                "ë°˜ê°‘ë‹¤êµ¬ë¦¬! ë¬´ì¸ë„ ì´ì£¼ íŒ¨í‚¤ì§€ì— ë‹¹ì²¨ëœ ê±¸ í™˜ì˜í•´! â›º ì´ ì„¬ì˜ ì´ë¦„ì€... ë„¤ê°€ ì •í•œ ëŒ€ë¡œ 'ì½”ë”©ì„¬'ì´ë¼ê³  í•˜ë©´ ë˜ê² êµ°."
            </div>

            <div class="controls">
                <button onclick="goToScene(2)">ë‹¤ìŒ â†’</button>
            </div>
        </div>

        <!-- Scene 2: ìŠ¤í† ë¦¬ ì§„í–‰ -->
        <div class="scene" data-scene="2">
            <h2>ğŸ’° ë¹šê³¼ì˜ ë§Œë‚¨</h2>
            <img src="/episode/1/2.jpg" alt="ë„ˆêµ´ì˜ ì˜ìˆ˜ì¦" class="scene-image">

            <div class="dialogue">
                <strong>ë„ˆêµ´:</strong> "ì, ì´ì œ ì •ì‚°ì„ í•´ì•¼ì§€? í…íŠ¸ ì„¤ì¹˜ë¹„, ì¸ê±´ë¹„, ìŠ¤ë§ˆíŠ¸í° ì§€ê¸‰ë¹„, ê·¸ë¦¬ê³  ì„¬ ì •ì°© ìˆ˜ìˆ˜ë£Œë¥¼ í•©ì¹˜ë©´..."
            </div>

            <img src="/episode/1/3.jpg" alt="ê¸´ ì˜ìˆ˜ì¦" class="scene-image">

            <div class="dialogue">
                <strong>ë„ˆêµ´:</strong> "í•©ê³„ <strong>49,800ë²¨</strong>ì´ë‹¤êµ¬ë¦¬! ğŸ’° ...ë­? ì§€ê¸ˆ ë¹ˆí„¸í„°ë¦¬ë¼ê³ ? ê³¤ë€í•˜ë„¤, ê³¤ë€í•´."
            </div>

            <img src="/episode/1/4.jpg" alt="ê³„ì•½ì„œ" class="scene-image">

            <div class="dialogue">
                <strong>ë„ˆêµ´:</strong> "ì¢‹ì•„! ë‚´ê°€ íŠ¹ë³„íˆ 'ë„ˆêµ´ ë±…í¬' ëŒ€ì¶œ ê³„ì¢Œë¥¼ ë§Œë“¤ì–´ ì£¼ì§€. ëŒ€ì‹ , ìš°ë¦¬ ì€í–‰ ì‹œìŠ¤í…œì´ ì•„ì§ ê°œë°œ ì¤‘ì´ë¼ì„œ... <strong>ë„¤ê°€ ì§ì ‘ ë„¤ ê³„ì¢Œ ì •ë³´ë¥¼ ì½”ë”©í•´ì„œ ì‹œìŠ¤í…œì— ë“±ë¡í•´ì•¼ í•´.</strong>"
            </div>

            <img src="/episode/1/5.jpg" alt="ë…¸íŠ¸ë¶" class="scene-image">

            <div class="controls">
                <button onclick="goToScene(1)">â† ì´ì „</button>
                <button onclick="goToScene(3)">ë‹¤ìŒ â†’</button>
            </div>
        </div>

        <!-- Scene 3: ë¯¸ì…˜ ì¤€ë¹„ -->
        <div class="scene" data-scene="3">
            <h2>âš™ï¸ ì€í–‰ ì‹œìŠ¤í…œ êµ¬ì¶•</h2>
            <img src="/episode/1/step1.jpg" alt="ì²« ë²ˆì§¸ ë‹¨ê³„" class="scene-image">

            <div class="mission-title">
                ğŸ® í€˜ìŠ¤íŠ¸: ë„ˆêµ´ ì€í–‰ ê³„ì¢Œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì„¸ìš”!
            </div>

            <div class="dialogue">
                <strong>ë„ˆêµ´:</strong> "ì, ë‚´ ë…¸íŠ¸ë¶ì„ ë¹Œë ¤ì¤„ê²Œ. ì—¬ê¸°ì— ìë°”(Java) ì–¸ì–´ë¡œ ë„ˆì˜ ë¹š ì •ë³´ë¥¼ ì…ë ¥í•´ ë´."
            </div>

            <div class="controls">
                <button onclick="goToScene(2)">â† ì´ì „</button>
                <button onclick="startMission()">IDE ì‹œì‘ â†’</button>
            </div>
        </div>

        <!-- IDE ì„¹ì…˜ -->
        <div class="ide-section" id="ideSection">
            <h3>ğŸ’» IDE - ì½”ë”© ë¯¸ì…˜</h3>

            <div id="mission-1" class="mission-container">
                <div class="step-counter">Step 1/3: ë¹š(Loan) ë³€ìˆ˜ ì„ ì–¸</div>

                <div class="nook-quote">
                    "ë¨¼ì € ë„¤ê°€ ê°šì•„ì•¼ í•  ëˆ, <strong>49,800</strong>ì„ ì €ì¥í•´ì•¼ í•´. ë²¨(Bell)ì€ ìª¼ê°œì§ˆ ìˆ˜ ì—†ì–´. 0.5ë²¨ ê°™ì€ ê±´ ì—†ë‹¨ ë§ì´ì§€. ê·¸ë ‡ë‹¤ë©´ <strong>ì •ìˆ˜í˜•(int)</strong>ê³¼ <strong>ì‹¤ìˆ˜í˜•(double)</strong> ì¤‘ ë­˜ ì¨ì•¼ í• ê¹Œ?"
                </div>

                <div class="keyboard-hint">
                    ğŸ’¡ íŒíŠ¸: ì •ìˆ˜í˜•(int)ì„ ì‚¬ìš©í•˜ì„¸ìš”. 49,800ì€ ì •ìˆ˜ì…ë‹ˆë‹¤.
                </div>

                <label>ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”:</label>
                <textarea id="editor-step1" class="editor-input">public class BankSystem {
    public static void main(String[] args) {
        // ë¯¸ì…˜ 1: ë¹š(loan) ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ì´ˆê¸°í™”í•˜ì„¸ìš”.
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

    }
}</textarea>

                <div class="editor-controls">
                    <button class="run-button" onclick="runStep1()">â–¶ ì½”ë“œ ì‹¤í–‰</button>
                    <button class="reset-button" onclick="resetStep1()">ğŸ”„ ì´ˆê¸°í™”</button>
                </div>

                <div id="output-step1" class="output-section">
                    <div class="output-title">ğŸ“¤ ì‹¤í–‰ ê²°ê³¼:</div>
                    <div id="output-content-step1" class="output"></div>
                </div>

                <button id="next-step1" class="controls" style="width: 100%; display: none; margin-top: 15px;" onclick="goToMission2()">
                    âœ… ì™„ë£Œ! ë‹¤ìŒ ë‹¨ê³„ë¡œ â†’
                </button>
            </div>

            <div id="mission-2" class="mission-container" style="display: none;">
                <div class="step-counter">Step 2/3: ì´ììœ¨(Interest Rate) ë³€ìˆ˜ ì„ ì–¸</div>

                <div class="nook-quote">
                    "ì„¸ìƒì— ê³µì§œëŠ” ì—†ì§€. ëŒ€ì¶œì—ëŠ” <strong>ì´ì(Interest)</strong>ê°€ ë¶™ëŠ” ë²•! ë‚´ ì´ììœ¨ì€ ì•„ì£¼ í•©ë¦¬ì ì¸ <strong>5% (0.05)</strong>ì•¼. 0.05ëŠ” ì†Œìˆ˜ì ì´ ìˆìœ¼ë‹ˆê¹Œ, ì´ë²ˆì—” ì–´ë–¤ íƒ€ì…ì„ ì¨ì•¼ í• ê¹Œ?"
                </div>

                <div class="keyboard-hint">
                    ğŸ’¡ íŒíŠ¸: ì‹¤ìˆ˜í˜•(double)ì„ ì‚¬ìš©í•˜ì„¸ìš”. 0.05ëŠ” ì†Œìˆ˜ì…ë‹ˆë‹¤.
                </div>

                <label>Step 1ì˜ ì½”ë“œì— ì´ììœ¨ì„ ì¶”ê°€í•˜ì„¸ìš”:</label>
                <textarea id="editor-step2" class="editor-input">public class BankSystem {
    public static void main(String[] args) {
        int loan = 49800;
        // ë¯¸ì…˜ 2: ì´ììœ¨(interestRate) ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì„¸ìš”.
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

    }
}</textarea>

                <div class="editor-controls">
                    <button class="run-button" onclick="runStep2()">â–¶ ì½”ë“œ ì‹¤í–‰</button>
                    <button class="reset-button" onclick="resetStep2()">ğŸ”„ ì´ˆê¸°í™”</button>
                </div>

                <div id="output-step2" class="output-section">
                    <div class="output-title">ğŸ“¤ ì‹¤í–‰ ê²°ê³¼:</div>
                    <div id="output-content-step2" class="output"></div>
                </div>

                <button id="next-step2" class="controls" style="width: 100%; display: none; margin-top: 15px;" onclick="goToMission3()">
                    âœ… ì™„ë£Œ! ë‹¤ìŒ ë‹¨ê³„ë¡œ â†’
                </button>
            </div>

            <div id="mission-3" class="mission-container" style="display: none;">
                <div class="step-counter">Step 3/3: ìºìŠ¤íŒ…(Casting) - í•µì‹¬ ê°œë…!</div>

                <div class="nook-quote">
                    "ì, ê·¸ëŸ¼ ì²« ë‹¬ ì´ìê°€ ì–¼ë§ˆì¸ì§€ ê³„ì‚°í•´ ë³¼ê¹Œ? <strong>ë¹š(loan) * ì´ììœ¨(interestRate)</strong>ì„ ê³„ì‚°í•´ì„œ <strong>ì´ì(interest)</strong> ë³€ìˆ˜ì— ë‹´ì•„ë´. ì•„ì°¸, <strong>ì´ìëŠ” 1ë²¨ ë‹¨ìœ„ë¡œ ëŠì–´ì„œ(ì •ìˆ˜)</strong> ë°›ì•„ì•¼ í•´."
                </div>

                <div class="nook-quote" style="background: #ffebee; border-color: #ff6b6b; color: #c62828;">
                    "âš ï¸ ì£¼ì˜: int * double = doubleì´ ë‚˜ì™€! ì‹¤ìˆ˜ë¥¼ ì •ìˆ˜ í†µì— ë„£ìœ¼ë ¤ë©´ <strong>ê°•ì œ í˜•ë³€í™˜(int)</strong>ì´ í•„ìš”í•´!"
                </div>

                <div class="keyboard-hint">
                    ğŸ’¡ íŒíŠ¸: <code>int interest = (int)(loan * interestRate);</code> í˜•íƒœë¡œ ì‘ì„±í•˜ì„¸ìš”.
                </div>

                <label>ìµœì¢… ì½”ë“œë¥¼ ì™„ì„±í•˜ì„¸ìš”:</label>
                <textarea id="editor-step3" class="editor-input">public class BankSystem {
    public static void main(String[] args) {
        int loan = 49800;
        double interestRate = 0.05;

        // ë¯¸ì…˜ 3: ì´ì ê³„ì‚° ê²°ê³¼ë¥¼ ì •ìˆ˜í˜• ë³€ìˆ˜ interestì— ì €ì¥í•˜ì„¸ìš”.
        // íŒíŠ¸: ìºìŠ¤íŒ…ì„ ì‚¬ìš©í•˜ì„¸ìš”!
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

        System.out.println("ì²« ë‹¬ ì´ì: " + interest + "ë²¨");
    }
}</textarea>

                <div class="editor-controls">
                    <button class="run-button" onclick="runStep3()">â–¶ ì½”ë“œ ì‹¤í–‰</button>
                    <button class="reset-button" onclick="resetStep3()">ğŸ”„ ì´ˆê¸°í™”</button>
                </div>

                <div id="output-step3" class="output-section">
                    <div class="output-title">ğŸ“¤ ì‹¤í–‰ ê²°ê³¼:</div>
                    <div id="output-content-step3" class="output"></div>
                </div>

                <button id="next-step3" class="controls" style="width: 100%; display: none; margin-top: 15px;" onclick="goToScene(4)">
                    ğŸ‰ ì™„ë£Œ! ì´ì•¼ê¸° ê³„ì† â†’
                </button>
            </div>
        </div>

        <!-- Scene 4: ë¯¸ì…˜ ì™„ë£Œ -->
        <div class="scene" data-scene="4">
            <h2>âœ¨ ë¯¸ì…˜ ì™„ë£Œ!</h2>
            <img src="/episode/1/step3.jpg" alt="ì™„ë£Œ" class="scene-image">

            <div class="console-output">
ì²« ë‹¬ ì´ì: 2490ë²¨
            </div>

            <div class="nook-quote">
                "ì˜¤í˜¸~ ì™„ë²½í•´! (int)ë¥¼ ë¶™ì—¬ì„œ ì†Œìˆ˜ì ì„ ë‚ ë ¤ë²„ë ¸êµ¬ë‚˜. ì‚¬ì‹¤ 2490.9ë²¨ì´ì–´ë„ 2490ë²¨ë§Œ ë°›ê²Œ ë˜ë‹ˆ ë„ˆí•œí…Œ ì´ë“ì´ì§€? ì´ê²Œ ë°”ë¡œ í”„ë¡œê·¸ë˜ë¨¸ì˜ íŠ¹ê¶Œì´ë¼êµ¬ë¦¬."
            </div>

            <img src="/episode/1/6.jpg" alt="ê¸°ë»í•˜ëŠ” ë„ˆêµ´" class="scene-image">

            <div class="nook-quote">
                "ì¢‹ì•„, ê³„ì¢Œ ê°œì„¤ì´ ì™„ë£Œëì–´. í˜„ì¬ ë¹š: <strong>49,800ë²¨</strong>. ë§¤ë‹¬ ì´ì: <strong>2,490ë²¨</strong>. ...ì—´ì‹¬íˆ ì¼í•´ì„œ ê°šì•„ì•¼ê² ì§€? ì, ì´ì œ ë°–ìœ¼ë¡œ ë‚˜ê°€ì„œ ëˆì„ ë²Œì–´ë³´ìê³ !"
            </div>

            <div class="success">
                âœ… 1ì£¼ ì°¨ í•™ìŠµ ì™„ë£Œ!
                <br><br>
                íšë“ ì§€ì‹: Primitive Types, Variable Declaration, Type Casting
                <br><br>
                ë‹¤ìŒ ì£¼ ì˜ˆê³ : ë‚˜ë¬´ë¥¼ í”ë“¤ë©´ ëˆì´ ë–¨ì–´ì§ˆê¹Œ, ë²Œì§‘ì´ ë–¨ì–´ì§ˆê¹Œ? (Math.randomê³¼ ifë¬¸)
            </div>

            <div class="controls">
                <button onclick="goToScene(1)">â† ì²˜ìŒë¶€í„°</button>
                <button onclick="nextEpisode()">ë‹¤ìŒ ì—í”¼ì†Œë“œ â†’</button>
            </div>
        </div>
    </div>

    <script>
        let currentScene = 1;

        function goToScene(sceneNum) {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            document.querySelectorAll('.ide-section').forEach(ide => {
                ide.classList.remove('active');
            });

            document.querySelector(`[data-scene="${sceneNum}"]`).classList.add('active');
            currentScene = sceneNum;

            // ì§„í–‰ë„ ì—…ë°ì´íŠ¸
            updateProgress();

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function startMission() {
            document.querySelectorAll('.scene').forEach(scene => {
                scene.classList.remove('active');
            });
            document.getElementById('ideSection').classList.add('active');
            document.getElementById('mission-1').style.display = 'block';
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goToMission2() {
            document.getElementById('mission-1').style.display = 'none';
            document.getElementById('mission-2').style.display = 'block';
            window.scrollTo({ top: 300, behavior: 'smooth' });
        }

        function goToMission3() {
            document.getElementById('mission-2').style.display = 'none';
            document.getElementById('mission-3').style.display = 'block';
            window.scrollTo({ top: 300, behavior: 'smooth' });
        }

        function updateProgress() {
            const items = document.querySelectorAll('.progress-item');
            items.forEach((item, index) => {
                item.classList.remove('active', 'completed');
                if (index < currentScene - 1) {
                    item.classList.add('completed');
                } else if (index === currentScene - 1) {
                    item.classList.add('active');
                }
            });
        }

        // ìœ í‹¸ë¦¬í‹°: ì½”ë“œ ì •ê·œí™” (ì£¼ì„ ì œê±°, ê³µë°± ì •ë¦¬)
        function normalizeCode(code) {
            // 1. í•œ ì¤„ ì£¼ì„ ì œê±° (//)
            code = code.replace(/\/\/.*$/gm, '');
            // 2. ë©€í‹° ë¼ì¸ ì£¼ì„ ì œê±° (/* ... */)
            code = code.replace(/\/\*[\s\S]*?\*\//g, '');
            // 3. ì—°ì†ëœ ê³µë°±ì„ ë‹¨ì¼ ê³µë°±ìœ¼ë¡œ ì •ê·œí™”
            code = code.replace(/\s+/g, ' ');
            // 4. ì•ë’¤ ê³µë°± ì œê±°
            return code.trim();
        }

        // ìœ í‹¸ë¦¬í‹°: ì •ê·œì‹ ê¸°ë°˜ ê²€ì¦
        function validatePattern(code, patterns, requireAll = true) {
            const normalized = normalizeCode(code);
            if (requireAll) {
                return patterns.every(pattern => pattern.test(normalized));
            } else {
                return patterns.some(pattern => pattern.test(normalized));
            }
        }

        // Step 1: ë¹š(Loan) ë³€ìˆ˜ ì„ ì–¸
        function runStep1() {
            const code = document.getElementById('editor-step1').value;
            const output = document.getElementById('output-content-step1');
            const outputSection = document.getElementById('output-step1');
            const nextBtn = document.getElementById('next-step1');

            outputSection.classList.add('active');

            // ì •ê·œì‹ íŒ¨í„´: "int" í‚¤ì›Œë“œ, "loan" ë³€ìˆ˜ëª…, "49800" ê°’
            const patterns = [
                /\bint\s+loan\s*=\s*49800\b/,  // ê°€ì¥ ì •í™•í•œ í˜•íƒœ
                /\bint\s+loan/,                 // int loan ì„ ì–¸ í™•ì¸
                /49800/                         // ê°’ í™•ì¸
            ];

            if (validatePattern(code, patterns, true)) {
                output.textContent = 'âœ… ì„±ê³µ! int íƒ€ì…ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\në„ˆêµ´: "ê·¸ë ‡ì§€! intë¥¼ ì¼êµ¬ë‚˜. ê¹”ë”í•´!"';
                nextBtn.style.display = 'block';
            } else {
                output.textContent = 'âŒ ì˜¤ë¥˜: int loan = 49800; í˜•íƒœë¡œ ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤.';
                nextBtn.style.display = 'none';
            }
        }

        function resetStep1() {
            document.getElementById('editor-step1').value = `public class BankSystem {
    public static void main(String[] args) {
        // ë¯¸ì…˜ 1: ë¹š(loan) ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³  ì´ˆê¸°í™”í•˜ì„¸ìš”.
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

    }
}`;
            document.getElementById('output-step1').classList.remove('active');
            document.getElementById('next-step1').style.display = 'none';
        }

        // Step 2: ì´ììœ¨(Interest Rate) ë³€ìˆ˜ ì„ ì–¸
        function runStep2() {
            const code = document.getElementById('editor-step2').value;
            const output = document.getElementById('output-content-step2');
            const outputSection = document.getElementById('output-step2');
            const nextBtn = document.getElementById('next-step2');

            outputSection.classList.add('active');

            // ì •ê·œì‹ íŒ¨í„´: double íƒ€ì…, interestRate ë³€ìˆ˜, 0.05 ê°’
            const patterns = [
                /\bdouble\s+interestRate\s*=\s*0\.05\b/,
                /\bdouble\s+interestRate/,
                /0\.05/
            ];

            if (validatePattern(code, patterns, true)) {
                output.textContent = 'âœ… ì„±ê³µ! double íƒ€ì…ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\në„ˆêµ´: "ì •í™•í•´! doubleì„ ì‚¬ìš©í–ˆêµ°. intë¡œ í–ˆë‹¤ë©´ 0ì´ ë˜ì–´ì„œ ì´ìë¥¼ ëª» ë°›ì•˜ì„ ê±°ì•¼!"';
                nextBtn.style.display = 'block';
            } else {
                output.textContent = 'âŒ ì˜¤ë¥˜: double interestRate = 0.05; í˜•íƒœë¡œ ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤.';
                nextBtn.style.display = 'none';
            }
        }

        function resetStep2() {
            document.getElementById('editor-step2').value = `public class BankSystem {
    public static void main(String[] args) {
        int loan = 49800;
        // ë¯¸ì…˜ 2: ì´ììœ¨(interestRate) ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì„¸ìš”.
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

    }
}`;
            document.getElementById('output-step2').classList.remove('active');
            document.getElementById('next-step2').style.display = 'none';
        }

        // Step 3: ìºìŠ¤íŒ…(Casting)
        function runStep3() {
            const code = document.getElementById('editor-step3').value;
            const output = document.getElementById('output-content-step3');
            const outputSection = document.getElementById('output-step3');
            const nextBtn = document.getElementById('next-step3');

            outputSection.classList.add('active');

            // ì •ê·œì‹ìœ¼ë¡œ ìºìŠ¤íŒ… í˜•íƒœ í™•ì¸
            // (int) ìºìŠ¤íŠ¸ ë° interest ë³€ìˆ˜ í™•ì¸
            const castingPattern = /\(int\)\s*\(?\s*loan\s*\*\s*interestRate\s*\)?/;
            const interestPattern = /\bint\s+interest\s*=/;

            if (validatePattern(code, [castingPattern, interestPattern], true)) {
                output.textContent = 'ì²« ë‹¬ ì´ì: 2490ë²¨\n\nâœ… ì™„ë²½í•´! ìºìŠ¤íŒ…ì„ ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.';
                nextBtn.style.display = 'block';
            } else if (normalizeCode(code).includes('int interest') && !normalizeCode(code).includes('(int)')) {
                output.textContent = 'âŒ ì»´íŒŒì¼ ì—ëŸ¬: Type mismatch: cannot convert from double to int\n\në„ˆêµ´: "ìºìŠ¤íŒ…ì´ í•„ìš”í•´! (int)ë¥¼ ë¶™ì—¬ì¤˜!"';
                nextBtn.style.display = 'none';
            } else {
                output.textContent = 'âŒ ì˜¤ë¥˜: int interest ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì•¼ í•©ë‹ˆë‹¤.';
                nextBtn.style.display = 'none';
            }
        }

        function resetStep3() {
            document.getElementById('editor-step3').value = `public class BankSystem {
    public static void main(String[] args) {
        int loan = 49800;
        double interestRate = 0.05;

        // ë¯¸ì…˜ 3: ì´ì ê³„ì‚° ê²°ê³¼ë¥¼ ì •ìˆ˜í˜• ë³€ìˆ˜ interestì— ì €ì¥í•˜ì„¸ìš”.
        // íŒíŠ¸: ìºìŠ¤íŒ…ì„ ì‚¬ìš©í•˜ì„¸ìš”!
        // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

        System.out.println("ì²« ë‹¬ ì´ì: " + interest + "ë²¨");
    }
}`;
            document.getElementById('output-step3').classList.remove('active');
            document.getElementById('next-step3').style.display = 'none';
        }

        function nextEpisode() {
            alert('ë‹¤ìŒ ì—í”¼ì†Œë“œ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤! ğŸ¦');
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì§„í–‰ë„ ì—…ë°ì´íŠ¸
        updateProgress();
    </script>
</body>
</html>
