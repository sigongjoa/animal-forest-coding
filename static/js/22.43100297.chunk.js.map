{"version":3,"file":"static/js/22.43100297.chunk.js","mappings":"wJAEO,MAAMA,EAAmH,CAC5HC,GAAI,mBACJC,MAAO,2BACPC,YAAa,6FACbC,WAAY,WACZC,MAAO,EACPC,QAAS,CACLC,WAAY,IACZC,WAAY,GACZC,aAAc,IAElBC,QAAS,CAAC,kBACVC,cAAe,GACfC,MAAO,CACH,CACIX,GAAI,EACJC,MAAO,8CACPC,YAAa,2TACbU,OAAQ,uFACRC,SAAS,8LAQTC,SAAS,6IAOTJ,cAAe,IAEnB,CACIV,GAAI,EACJC,MAAO,6CACPC,YAAa,iTACbU,OAAQ,wEACRC,SAAS,qWAYTC,SAAS,2NASTJ,cAAe,KAGvBK,SAAU,CACNC,QAAS,CACLC,WAAY,qBACZC,WAAY,CACR,CACIlB,GAAI,OACJmB,gBAAiB,CAAEC,EAAG,IAAKC,EAAG,KAC9BC,OAAQ,6BACRC,UAAW,UAIvBC,OAAQ,CACJ,CAAEC,KAAM,WAAYC,QAAS,OAAQC,KAAM,sCAAuCC,QAAS,WAC3F,CAAEH,KAAM,WAAYC,QAAS,OAAQC,KAAM,6CAA8CC,QAAS,SAClG,CAAEH,KAAM,aAAcI,KAAM,SAGpCC,UAAYC,IACR,MAAMC,EAAmB,GACzBA,EAAOC,KAAK,iCAOZ,MAAMC,EAAiB,8BAA8BC,KAAKJ,GACpDK,EAAkB,kCAAkCD,KAAKJ,GAGzDM,EAAe,4BAA4BF,KAAKJ,GAGtD,OAAKG,EAIAE,EAMDL,EAAKO,SAAS,gBACdN,EAAOC,KAAK,2CAERI,GACAL,EAAOC,KAAK,gFACZD,EAAOC,KAAK,2DACL,CAAEM,QAAQ,EAAOC,QAAS,mFAAoFR,WAGrH,sBAAsBG,KAAKJ,IAAS,4BAA4BI,KAAKJ,IACrEC,EAAOC,KAAK,kDACZD,EAAOC,KAAK,qBACL,CAAEM,QAAQ,EAAMC,QAAS,8EAA+ER,YAGnHA,EAAOC,KAAK,oDACL,CAAEM,QAAQ,EAAOC,QAAS,mEAAoER,aAIzGA,EAAOC,KAAK,mCACZD,EAAOC,KAAK,qBACL,CAAEM,QAAQ,EAAMC,QAAS,oDAAqDR,YA3BjFA,EAAOC,KAAK,6DACL,CAAEM,QAAQ,EAAOC,QAAS,qDAAsDR,YALvFA,EAAOC,KAAK,yDACL,CAAEM,QAAQ,EAAOC,QAAS,iDAAkDR,Y","sources":["data/missions/unit1.ts"],"sourcesContent":["import { Mission } from '../../types/Mission';\r\n\r\nexport const unit1Mission: Mission & { validator: (code: string) => { passed: boolean; message: string; output?: string[] } } = {\r\n    id: 'unit-1-economics',\r\n    title: 'Unit 1: Nook\\'s Economics',\r\n    description: 'Master the basics of variables, primitive types, and state management in the Bank of Nook.',\r\n    difficulty: 'beginner',\r\n    order: 1,\r\n    rewards: {\r\n        basePoints: 100,\r\n        speedBonus: 50,\r\n        perfectBonus: 50\r\n    },\r\n    unlocks: ['unit-2-fishing'],\r\n    prerequisites: [],\r\n    steps: [\r\n        {\r\n            id: 1,\r\n            title: 'Episode 1: Defining State (Primitive Types)',\r\n            description: 'To manage the player\\'s debt, we need to define the state of the `NookAccount`. Nook insists on using `int` for Bells (no fractions allowed!) and `double` for the interest rate (0.5%).\\n\\n**Task:**\\nDeclare two private instance variables:\\n1. `bellBalance` (int)\\n2. `interestRate` (double) initialized to `0.005`',\r\n            prompt: 'Define the member variables `bellBalance` and `interestRate` with the correct types.',\r\n            template: `public class NookAccount {\r\n    // TODO: Declare the instance variables here\r\n    \r\n    \r\n    public NookAccount() {\r\n        // Constructor logic will be added in the next step\r\n    }\r\n}`,\r\n            solution: `public class NookAccount {\r\n    private int bellBalance;\r\n    private double interestRate = 0.005;\r\n\r\n    public NookAccount() {\r\n    }\r\n}`,\r\n            prerequisites: []\r\n        },\r\n        {\r\n            id: 2,\r\n            title: 'Episode 2: The Shadowing Bug (Constructor)',\r\n            description: 'Great! Now we need to initialize the account. The previous intern wrote this constructor, but the balance always stays at 0 even after depositing money.\\n\\n**Task:**\\nFind and fix the **Shadowing** bug in the constructor. Ensure `bellBalance` is assigned to the instance variable, not a local variable.',\r\n            prompt: 'Fix the bug where `bellBalance` is redeclared inside the constructor.',\r\n            template: `public class NookAccount {\r\n    private int bellBalance;\r\n    private double interestRate = 0.005;\r\n\r\n    public NookAccount(int initialLoan) {\r\n        // ðŸš¨ BUG: Why is the instance variable not updating?\r\n        int bellBalance = 0; \r\n        \r\n        // This looks correct\r\n        this.bellBalance = bellBalance - initialLoan; \r\n    }\r\n}`,\r\n            solution: `public class NookAccount {\r\n    private int bellBalance;\r\n    private double interestRate = 0.005;\r\n\r\n    public NookAccount(int initialLoan) {\r\n        bellBalance = 0;\r\n        // or this.bellBalance = 0;\r\n    }\r\n}`,\r\n            prerequisites: []\r\n        }\r\n    ],\r\n    scenario: {\r\n        setting: {\r\n            background: 'nook_bank_interior',\r\n            characters: [\r\n                {\r\n                    id: 'nook',\r\n                    initialPosition: { x: 400, y: 300 },\r\n                    sprite: '/assets/character/nook.png',\r\n                    direction: 'down'\r\n                }\r\n            ]\r\n        },\r\n        script: [\r\n            { type: 'dialogue', speaker: 'nook', text: 'Intern! My bank system is crashing!', emotion: 'shocked' },\r\n            { type: 'dialogue', speaker: 'nook', text: 'Fix the variables and the constructor NOW!', emotion: 'angry' },\r\n            { type: 'transition', mode: 'IDE' }\r\n        ]\r\n    },\r\n    validator: (code: string) => {\r\n        const output: string[] = [];\r\n        output.push(\"Compiling NookAccount.java...\");\r\n\r\n        // Validation logic needs to handle multiple steps based on *current step index*?\r\n        // Ideally validator should take step index, but the interface checks code string only.\r\n        // We will infer the step based on the content or try to validate loosely.\r\n\r\n        // Check for Step 1 completion criteria\r\n        const hasBellBalance = /private\\s+int\\s+bellBalance/.test(code);\r\n        const hasInterestRate = /private\\s+double\\s+interestRate/.test(code);\r\n\r\n        // Check for Step 2 completion criteria (Fixing shadowing)\r\n        const hasShadowing = /int\\s+bellBalance\\s*=\\s*0/.test(code);\r\n\r\n        // Heuristic to detect which step we are on or if validation passes general criteria\r\n        if (!hasBellBalance) {\r\n            output.push(\"Error: Missing 'private int bellBalance' declaration.\");\r\n            return { passed: false, message: \"Missing 'private int bellBalance' declaration.\", output };\r\n        }\r\n        if (!hasInterestRate) {\r\n            output.push(\"Error: Missing 'private double interestRate' declaration.\");\r\n            return { passed: false, message: \"Missing 'private double interestRate' declaration.\", output };\r\n        }\r\n\r\n        // If the code contains the constructor with logic, we validate step 2\r\n        if (code.includes(\"initialLoan\")) {\r\n            output.push(\"Parsing constructor NookAccount(int)...\");\r\n\r\n            if (hasShadowing) {\r\n                output.push(\"Warning: The local variable 'bellBalance' is hiding the field 'bellBalance'.\");\r\n                output.push(\"Error: Instance variable 'bellBalance' was not updated.\");\r\n                return { passed: false, message: \"You are still re-declaring 'int bellBalance' inside the constructor (Shadowing)!\", output };\r\n            }\r\n            // Allow variations like 'this.bellBalance = 0' or 'bellBalance = 0'\r\n            if (/bellBalance\\s*=\\s*0/.test(code) || /this\\.bellBalance\\s*=\\s*0/.test(code)) {\r\n                output.push(\"State initialization verified: bellBalance = 0\");\r\n                output.push(\"Build Successful.\");\r\n                return { passed: true, message: \"Excellent! You fixed the shadowing bug and correctly initialized the state.\", output };\r\n            }\r\n\r\n            output.push(\"Error: bellBalance initialization logic missing.\");\r\n            return { passed: false, message: \"Make sure to initialize bellBalance to 0 inside the constructor.\", output };\r\n        }\r\n\r\n        // Otherwise assume step 1 validation\r\n        output.push(\"Variable declarations verified.\");\r\n        output.push(\"Build Successful.\");\r\n        return { passed: true, message: \"Great! You defined the primitive types correctly.\", output };\r\n    }\r\n};\r\n"],"names":["unit1Mission","id","title","description","difficulty","order","rewards","basePoints","speedBonus","perfectBonus","unlocks","prerequisites","steps","prompt","template","solution","scenario","setting","background","characters","initialPosition","x","y","sprite","direction","script","type","speaker","text","emotion","mode","validator","code","output","push","hasBellBalance","test","hasInterestRate","hasShadowing","includes","passed","message"],"ignoreList":[],"sourceRoot":""}